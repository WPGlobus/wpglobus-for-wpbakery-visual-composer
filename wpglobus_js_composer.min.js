var WPGlobusJsComposer;jQuery(document).ready(function(t){"use strict";if("undefined"!=typeof window.vc&&"undefined"!=typeof vc.app){var e=WPGlobusAdmin.content,o=WPGlobusCoreData.default_language;WPGlobusJsComposer={classic_mode:!1,change:function(t){o!=WPGlobusCoreData.default_language&&vc.storage.setContent(t.level.content)}},t(".postdivrich-wpglobus").css("display","none"),t("body").on("change",".postdivrich-wpglobus",function(){var e=t(this).attr("id")+" .wpglobus-editor";tinymce.get("content_"+o).setContent(t("#"+e).val()),tinymce.triggerSave()}),t("body").on("click",".wpb_switch-to-composer",function(){t(".composer-switch").hasClass("vc_backend-status")?(WPGlobusJsComposer.classic_mode=!1,t(".postdivrich-wpglobus").css("display","none")):(WPGlobusJsComposer.classic_mode=!0,t(".postdivrich-wpglobus").css("display","block"),t("#postdivrich").css("display","block"),o!=WPGlobusCoreData.default_language&&(tinymce.get("content_"+o).isHidden()?t("#content_"+o).val(vc.storage.getContent()):(tinymce.get("content_"+o).setContent(vc.storage.getContent()),tinymce.triggerSave())))}),t(document).on("wpglobus_before_save_post",function(){o!=WPGlobusCoreData.default_language&&(tinymce.get("content_"+o).setContent(vc.storage.getContent()),tinymce.triggerSave(),tinymce.get("content").isHidden()?t("#content").val(e):(tinymce.get("content").setContent(e),tinymce.triggerSave())),"tinymce"!=getUserSetting("editor")&&setUserSetting("editor","tinymce"),tinymce.get("content").show()}),t(document).on("wpglobus_post_body_tabs",function(n,s,c){c==WPGlobusCoreData.default_language?(t("#content_"+s).val(vc.storage.getContent()),vc.storage.setContent(e)):(s==WPGlobusCoreData.default_language?e=vc.storage.getContent():tinymce.get("content_"+s).isHidden()?t("#content_"+s).val(vc.storage.getContent()):(tinymce.get("content_"+s).setContent(vc.storage.getContent()),tinymce.triggerSave()),vc.storage.setContent(t("#content_"+c).val())),o=c,vc.app.show(),WPGlobusJsComposer.classic_mode?(t("#wpb_visual_composer").css("display","none"),o==WPGlobusCoreData.default_language&&t("#postdivrich").css("display","block")):(t(".postdivrich-wpglobus").css("display","none"),t("#wpb_visual_composer").css("display","block"))})}});